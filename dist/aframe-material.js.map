{"version":3,"sources":["webpack:///webpack/bootstrap a626e370ff8364f0b96c","webpack:///./src/index.js","webpack:///./~/aframe-rounded/dist/aframe-rounded-component.min.js","webpack:///./src/fade/index.js","webpack:///./src/core/event.js","webpack:///./src/keyboard/index.js","webpack:///./src/utils.js","webpack:///./src/keyboard/draw.js","webpack:///./src/keyboard/assets.js","webpack:///./src/keyboard/layouts.js","webpack:///./src/keyboard/config.js","webpack:///./src/keyboard/behaviors.js","webpack:///./src/keyboard/sfx.js","webpack:///./src/keyboard/Assets.js","webpack:///./src/input/index.js","webpack:///./src/switch/index.js","webpack:///./src/switch/assets.js","webpack:///./src/switch/sfx.js","webpack:///./src/form/index.js","webpack:///./src/radio/index.js","webpack:///./src/radio/assets.js","webpack:///./src/radio/sfx.js","webpack:///./src/checkbox/index.js","webpack:///./src/checkbox/assets.js","webpack:///./src/checkbox/sfx.js","webpack:///./src/button/index.js","webpack:///./src/button/assets.js","webpack:///./src/button/sfx.js","webpack:///./src/toast/index.js","webpack:///./src/toast/assets.js","webpack:///./src/toast/sfx.js"],"names":["AFRAME","console","error","ASSETS_PATH","require","Event","opacityUpdate","opacity","el","object3D","traverse","o","material","transparent","textEntities","text","components","uniforms","value","registerComponent","schema","duration","type","default","init","querySelectorAll","start","tick","t","Math","min","data","removeAttribute","emit","module","exports","name","dispatchEvent","CustomEvent","detail","Utils","Draw","Behaviors","SFX","isOpen","physicalKeyboard","currentInput","that","numericalUI","mainUI","actionsUI","alphabeticalLayout","appendChild","numericalLayout","actionsLayout","show","showKeyboard","hide","hideKeyboard","open","openKeyboard","dismiss","dismissKeyboard","destroy","destroyKeyboard","setAttribute","addEventListener","inputEvent","bind","backspaceEvent","dismissEvent","document","keydownEvent","body","didFocusInputEvent","didBlurInputEvent","update","remove","removeEventListener","pause","play","e","appendString","deleteLast","blur","preventDefault","stopPropagation","key","length","registerPrimitive","defaultComponents","keyboard","mappings","preloadAssets","assets_arr","assets","querySelector","already_exists","scene","createElement","item","Array","from","children","stuff","id","asset_item","src","extend","a","b","hasOwnProperty","clone","original","isArray","slice","Object","create","getPrototypeOf","i","undefined","keys","getOwnPropertyNames","defineProperty","getOwnPropertyDescriptor","updateOpacity","hasAttribute","props","getAttribute","getWidthFactor","wrapCount","widthFactor","currentFont","Assets","Layouts","Config","wrapper","KEYBOARD_COLOR","setTimeout","color","shader","numerical","index_y","key_id","index_x","x","KEY_WIDTH","y","alphabetical","prev_was_space","SPACE_KEY_WIDTH","symbolsLayout","symbols","actions","val_y","ACTION_WIDTH","addKeyEvents","letter_el","setColor","keyEl","letterEl","KEY_COLOR_ACTIVE","SPACE_KEY_HEIGHT","icon_el","aframeKeyboardShift","shiftKey","aframeKeyboardGlobal","aframeKeyboardBackspace","circle_el","aframeKeyboardEnter","aframeKeyboardDismiss","aframeKeyboardShiftActive","aframeKeyboardShadow","aframeKeyboardKeyIn","aframeKeyboardKeyDown","KEY_COLOR_HIGHLIGHT","SPACEBAR_COLOR_ACTIVE","SPACEBAR_COLOR_HIGHLIGHT","position","o_position","THREE","Vector3","copy","parent","parentNode","removeChild","_transitioning","sceneEl","items","j","fadeIn","animationend","child","keyClick","keyDown","keyOut","keyIn","isShiftEnabled","toUpperCase","shiftToggle","isSymbols","symbolsToggle","z","key_type","startsWith","textEl","toLowerCase","sound","stopSound","playSound","disabled","align","font","letterSpacing","lineHeight","side","tabSize","placeholder","placeholderColor","maxLength","width","cursorWidth","cursorHeight","cursorColor","backgroundColor","backgroundOpacity","background","cursor","focus","blink","input","get","set","enumerable","configurable","isFocused","clearInterval","cursorInterval","setInterval","noemit","str","updateText","padding","left","right","attr","cursorTimer","clearTimeout","substring","repeat","getTextWidth","trimFirst","_widthFactor","v","geometry","visibleGlyphs","line","substr","textRatio","placeholder_props","updateCursor","enabled","fillColor","knobColor","fillColorEnabled","knobColorEnabled","fillColorDisabled","knobColorDisabled","fill","knob","shadow_el","switch","clickDisabled","click","on","off","disable","form","checked","label","radioColor","radioColorChecked","hitbox","outline","circle","radio","onClick","nearestForm","closest","didCheck","reverse","check","uncheck","timer","checkboxColor","checkboxColorChecked","inside","checkmark","checkbox","buttonColor","shadow","button","getWidth","__width","callback","message","action","actionColor","autoshow","changeWidth","hideTimer","scale","toast"],"mappings":"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","file":"aframe-material.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a626e370ff8364f0b96c","(()=>{\n  if (!AFRAME) { return console.error('AFRAME is required!'); }\n  if (!AFRAME.ASSETS_PATH) { AFRAME.ASSETS_PATH = \"./assets\"; }\n  require('aframe-rounded');\n  require(\"./fade\");\n  //require(\"./alert\"); @TODO ;)\n  require(\"./keyboard\");\n  require(\"./input\");\n  require(\"./switch\");\n  require(\"./form\");\n  require(\"./radio\");\n  require(\"./checkbox\");\n  require(\"./button\");\n  require(\"./toast\");\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","!function(t){function e(i){if(a[i])return a[i].exports;var d=a[i]={exports:{},id:i,loaded:!1};return t[i].call(d.exports,d,d.exports,e),d.loaded=!0,d.exports}var a={};return e.m=t,e.c=a,e.p=\"\",e(0)}([function(t,e){AFRAME.registerComponent(\"rounded\",{schema:{enabled:{default:!0},width:{type:\"number\",default:1},height:{type:\"number\",default:1},radius:{type:\"number\",default:.3},topLeftRadius:{type:\"number\",default:-1},topRightRadius:{type:\"number\",default:-1},bottomLeftRadius:{type:\"number\",default:-1},bottomRightRadius:{type:\"number\",default:-1},color:{type:\"color\",default:\"#F0F0F0\"},opacity:{type:\"number\",default:1}},init:function(){this.rounded=new THREE.Mesh(this.draw(),new THREE.MeshPhongMaterial({color:new THREE.Color(this.data.color),side:THREE.DoubleSide})),this.updateOpacity(),this.el.setObject3D(\"mesh\",this.rounded)},update:function(){this.data.enabled?this.rounded&&(this.rounded.visible=!0,this.rounded.geometry=this.draw(),this.rounded.material.color=new THREE.Color(this.data.color),this.updateOpacity()):this.rounded.visible=!1},updateOpacity:function(){this.data.opacity<0&&(this.data.opacity=0),this.data.opacity>1&&(this.data.opacity=1),this.data.opacity<1?this.rounded.material.transparent=!0:this.rounded.material.transparent=!1,this.rounded.material.opacity=this.data.opacity},tick:function(){},remove:function(){this.rounded&&(this.el.object3D.remove(this.rounded),this.rounded=null)},draw:function(){function t(t,e,a,i,d,o,u,r,s){o||(o=1e-5),u||(u=1e-5),r||(r=1e-5),s||(s=1e-5),t.moveTo(e,a+o),t.lineTo(e,a+d-o),t.quadraticCurveTo(e,a+d,e+o,a+d),t.lineTo(e+i-u,a+d),t.quadraticCurveTo(e+i,a+d,e+i,a+d-u),t.lineTo(e+i,a+s),t.quadraticCurveTo(e+i,a,e+i-s,a),t.lineTo(e+r,a),t.quadraticCurveTo(e,a,e,a+r)}var e=new THREE.Shape,a=[this.data.radius,this.data.radius,this.data.radius,this.data.radius];return this.data.topLeftRadius!=-1&&(a[0]=this.data.topLeftRadius),this.data.topRightRadius!=-1&&(a[1]=this.data.topRightRadius),this.data.bottomLeftRadius!=-1&&(a[2]=this.data.bottomLeftRadius),this.data.bottomRightRadius!=-1&&(a[3]=this.data.bottomRightRadius),t(e,0,0,this.data.width,this.data.height,a[0],a[1],a[2],a[3]),new THREE.ShapeBufferGeometry(e)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive(\"a-rounded\",{defaultComponents:{rounded:{}},mappings:{enabled:\"rounded.enabled\",width:\"rounded.width\",height:\"rounded.height\",radius:\"rounded.radius\",\"top-left-radius\":\"rounded.topLeftRadius\",\"top-right-radius\":\"rounded.topRightRadius\",\"bottom-left-radius\":\"rounded.bottomLeftRadius\",\"bottom-right-radius\":\"rounded.bottomRightRadius\",color:\"rounded.color\",opacity:\"rounded.opacity\"}})}]);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/aframe-rounded/dist/aframe-rounded-component.min.js\n// module id = 2\n// module chunks = 0","const Event = require('../core/event');\n\nvar opacityUpdate = function(opacity) {\n  this.el.object3D.traverse(function (o) {\n    if (o.material) {\n      o.material.transparent = true;\n      o.material.opacity = opacity;\n    }\n  });\n  for (let text of this.textEntities) {\n    if (!text.components.text) { continue; }\n    text.components.text.material.uniforms.opacity.value = opacity;\n  }\n}\n\n// -----------------------------------------------------------------------------\n// FADEIN\n\nAFRAME.registerComponent('fadein', {\n  schema: {\n    duration: { type: 'int', default: 200 },\n  },\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(0);\n    this.start = null;\n  },\n  tick: function (t) {\n    if (!this.start) { this.start = t; }\n    var opacity = Math.min((t - this.start) / this.data.duration, 1);\n    this.opacityUpdate(opacity);\n    if (opacity === 1) {\n      this.el.removeAttribute('fadein');\n      Event.emit(this.el, 'animationend');\n    }\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// FADEOUT\n\nAFRAME.registerComponent('fadeout', {\n  schema: {\n    duration: { type: 'int', default: 200 }\n  },\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(1);\n    this.start = null;\n  },\n  tick: function (t) {\n    if (!this.start) { this.start = t; }\n    var opacity = 1-Math.min((t - this.start) / this.data.duration, 1);\n    this.opacityUpdate(opacity);\n    if (opacity === 0) {\n      this.el.removeAttribute('fadeout');\n      Event.emit(this.el, 'animationend');\n    }\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// SHOW\n\nAFRAME.registerComponent('show', {\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(1);\n    this.el.removeAttribute('show');\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// HIDE\n\nAFRAME.registerComponent('hide', {\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(0);\n  },\n  opacityUpdate: opacityUpdate\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/fade/index.js","module.exports = {\n  emit: (el, name, data)=> {\n    el.dispatchEvent( new CustomEvent(name, {detail: data}) );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/event.js","const Utils = require('../utils');\nconst Draw = require('./draw');\nconst Behaviors = require('./behaviors');\nconst SFX = require('./sfx');\nconst Event = require('../core/event');\n\nAFRAME.registerComponent('keyboard', {\n  schema: {\n    isOpen: { type: \"boolean\", default: false },\n    physicalKeyboard: { type: \"boolean\", default: false }\n  },\n  currentInput: null,\n  init: function () {\n    let that = this;\n\n    // SFX\n    SFX.init(this.el);\n\n    // Draw\n    Draw.init( this.el );\n\n    // Init keyboard UI\n    let numericalUI = Draw.numericalUI(),\n        mainUI      = Draw.mainUI(),\n        actionsUI   = Draw.actionsUI();\n\n    // Create layout\n    this.el.alphabeticalLayout = Draw.alphabeticalLayout();\n    // this.el.symbolsLayout = Draw.symbolsLayout();\n\n    // Append layouts to UI\n    numericalUI.appendChild( Draw.numericalLayout() );\n    mainUI.appendChild( this.el.alphabeticalLayout );\n    actionsUI.appendChild( Draw.actionsLayout() );\n\n    this.el.appendChild( numericalUI );\n    this.el.appendChild( mainUI );\n    this.el.appendChild( actionsUI );\n\n    // Inject methods in elements..\n    this.el.show = function() { Behaviors.showKeyboard(that.el); }\n    this.el.hide = function() { Behaviors.hideKeyboard(that.el); }\n    this.el.open = function() { Behaviors.openKeyboard(that.el); }\n    this.el.dismiss = function() { Behaviors.dismissKeyboard(that.el); }\n    this.el.destroy = function() { Behaviors.destroyKeyboard(that.el); }\n\n    // Set default value\n    this.el.setAttribute(\"scale\", \"2 2 2\");\n    this.el.setAttribute(\"rotation\", \"-20 0 0\");\n    this.el.setAttribute(\"position\", \"-1.5 -0.3 -2\");\n\n    // Register keyboard events\n    this.el.addEventListener('input', this.inputEvent.bind(this));\n    this.el.addEventListener('backspace', this.backspaceEvent.bind(this));\n    this.el.addEventListener('dismiss', this.dismissEvent.bind(this));\n\n    // Register global events\n    document.addEventListener('keydown', this.keydownEvent.bind(this));\n    document.body.addEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\n    document.body.addEventListener('didblurinput', this.didBlurInputEvent.bind(this));\n  },\n  update: function () {\n    if (this.data.isOpen) {\n      Behaviors.showKeyboard(this.el);\n    } else {\n      Behaviors.hideKeyboard(this.el);\n    }\n  },\n  tick: function () {},\n  remove: function () {\n    this.el.removeEventListener('input', this.inputEvent.bind(this));\n    this.el.removeEventListener('backspace', this.backspaceEvent.bind(this));\n    this.el.removeEventListener('dismiss', this.dismissEvent.bind(this));\n\n    document.removeEventListener('keydown', this.keydownEvent.bind(this));\n    document.body.removeEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\n    document.body.removeEventListener('didblurinput', this.didBlurInputEvent.bind(this));\n  },\n  pause: function () {},\n  play: function () {},\n\n  // Fired on keyboard key press\n  inputEvent: function(e) {\n    if (this.currentInput) {\n      this.currentInput.appendString(e.detail);\n    }\n  },\n\n  // Fired on backspace key press\n  backspaceEvent: function(e){\n    if (this.currentInput) {\n      this.currentInput.deleteLast();\n    }\n  },\n\n  dismissEvent: function(e){\n    if (this.currentInput) {\n      this.currentInput.blur();\n    }\n  },\n\n  // physical keyboard event\n  keydownEvent: function(e) {\n    if (this.currentInput && this.data.physicalKeyboard) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (e.key === 'Enter') {\n        Event.emit(Behaviors.el, 'input', '\\n');\n        Event.emit(Behaviors.el, 'enter', '\\n');\n      }\n      else if (e.key === 'Backspace') {\n        Event.emit(Behaviors.el, 'backspace');\n      }\n      else if (e.key === 'Escape') {\n        Event.emit(Behaviors.el, 'dismiss');\n      }\n      else if (e.key.length < 2) {\n        Event.emit(Behaviors.el, 'input', e.key);\n      }\n    }\n  },\n\n  // Fired when an input has been selected\n  didFocusInputEvent: function(e) {\n    if (this.currentInput) {\n      this.currentInput.blur(true);\n    }\n    this.currentInput = e.detail;\n    if (!this.el.isOpen) {\n      Behaviors.openKeyboard(this.el);\n    }\n  },\n\n  // Fired when an input has been deselected\n  didBlurInputEvent: function(e) {\n    this.currentInput = null;\n    Behaviors.dismissKeyboard(this.el);\n  }\n});\n\nAFRAME.registerPrimitive('a-keyboard', {\n  defaultComponents: {\n    keyboard: {}\n  },\n  mappings: {\n    'is-open': 'keyboard.isOpen',\n    'physical-keyboard': 'keyboard.physicalKeyboard',\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/index.js","const Utils = {};\n\n/**\n  Utils.preloadAssets([])\n  Add assets to Assets managment system.\n*/\nUtils.preloadAssets = (assets_arr)=>{\n  let assets = document.querySelector('a-assets'), already_exists;\n\n  if (!assets) {\n    var scene = document.querySelector('a-scene');\n    assets = document.createElement('a-assets');\n    scene.appendChild(assets);\n  }\n\n  for (let item of assets_arr) {\n    already_exists = false;\n\n    /***** With Edge, assets.children is a HTMLCollection, not an Array! *****/\n    for (let stuff of Array.from(assets.children)) {\n      if (item.id === stuff.id) {\n        already_exists = true;\n      }\n    }\n\n    if (!already_exists) {\n      var asset_item = document.createElement(item.type);\n      asset_item.setAttribute('id', item.id);\n      asset_item.setAttribute('src', item.src);\n      assets.appendChild(asset_item);\n    }\n  }\n}\n\n\n/**\n  Utils.extend(a, b)\n  Assign object to other object.\n*/\nUtils.extend = function(a, b) {\n\tfor (let key in b) {\n\t\tif (b.hasOwnProperty(key)) {\n\t\t\ta[key] = b[key];\n\t\t}\n\t}\n\treturn a;\n};\n\n\nUtils.clone = function(original) {\n\tif (Array.isArray(original)) {\n\t\treturn original.slice(0);\n\t}\n\n\t// First create an empty object with\n\t// same prototype of our original source\n\tconst clone = Object.create(Object.getPrototypeOf(original));\n\tlet i = undefined;\n\tconst keys = Object.getOwnPropertyNames(original);\n\ti = 0;\n\twhile (i < keys.length) {\n\t\t// copy each property into the clone\n\t\tObject.defineProperty(clone, keys[i], Object.getOwnPropertyDescriptor(original, keys[i]));\n\t\ti++;\n\t}\n\treturn clone;\n};\n\n\nUtils.updateOpacity = function(el, opacity) {\n  if (el.hasAttribute('text')) {\n    let props = el.getAttribute('text');\n    if (props) {\n      props.opacity = opacity;\n      el.setAttribute('text', props);\n    }\n  }\n  el.object3D.traverse(function (o) {\n    if (o.material) {\n      o.material.transparent = true;\n      o.material.opacity = opacity;\n    }\n  });\n  for (let text of el.querySelectorAll('a-text')) {\n    text.setAttribute('opacity', opacity);\n  }\n}\n\n\n// Calculate the width factor\nUtils.getWidthFactor = function(el, wrapCount) {\n  let widthFactor = 0.00001;\n  if (el.components.text && el.components.text.currentFont) {\n    widthFactor = el.components.text.currentFont.widthFactor\n    widthFactor = ((0.5 + wrapCount) * widthFactor);\n  }\n  return widthFactor;\n}\n\nmodule.exports = Utils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","const Assets = require('./assets');\nconst Layouts = require('./layouts');\nconst Config = require('./config');\nconst Behaviors = require('./behaviors');\nconst Draw = {};\n\nDraw.el = null;\n\nDraw.init = (el)=>{\n  Draw.el = el;\n  Behaviors.el = el;\n  Behaviors.SFX = el.SFX;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW NUMERICAL UI\n\nDraw.numericalUI = ()=> {\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.025 0 0.12');\n  wrapper.setAttribute('rotation', '0 25 0');\n  wrapper.setAttribute('data-ui', true);\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.280');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  setTimeout(() => { el.setAttribute('material', {color: Config.KEYBOARD_COLOR, shader: 'flat'}); });\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW MAIN UI\n\nDraw.mainUI = ()=>{\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.312 0 0');\n  wrapper.setAttribute('data-ui', true);\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.840');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  setTimeout(() => { el.setAttribute('material', {color: Config.KEYBOARD_COLOR, shader: 'flat'}); });\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ACTION UI\n\nDraw.actionsUI = ()=> {\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '1.180 0 0.01');\n  wrapper.setAttribute('rotation', '0 -25 0');\n  wrapper.setAttribute('data-ui', true);\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.180');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  setTimeout(() => { el.setAttribute('material', {color: Config.KEYBOARD_COLOR, shader: 'flat'}); });\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW NUMERICAL LAYOUT\n\nDraw.numericalLayout = ()=> {\n  var data = Layouts.numerical;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0;\n  for (var i in data) {\n    let key_id = 'num-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n    let index_x = i%3;\n    let x = Config.KEY_WIDTH*index_x;\n    let y = Config.KEY_WIDTH*index_y;\n    key.setAttribute('position', `${x} -${y} 0`);\n    if (index_x === 2) { index_y++; }\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ALPHABETICAL LAYOUT\n\nDraw.alphabeticalLayout = ()=> {\n  var data = Layouts.alphabetical;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0, index_x = 0, prev_was_space = false;\n\n  for (var i in data) {\n    let key_id = 'main-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n\n    let x = Config.KEY_WIDTH*index_x;\n    let y = Config.KEY_WIDTH*index_y;\n\n    // Add left padding on the second line\n    if (index_y === 1) {\n      x = x + Config.KEY_WIDTH/2;\n    }\n\n    // Add margin on the key next to the spacebar key\n    if (prev_was_space) {\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055*2);\n    }\n\n    // Add margin to the spacebar key\n    if (data[i].type === 'spacebar') {\n      prev_was_space = true;\n      x = x+0.205;\n      y = Config.KEY_WIDTH*index_y -  0.01;\n    }\n\n    key.setAttribute('position', `${x} -${y} 0`);\n\n    if (index_y === 1 && index_x === 8) {\n      index_x = -1;\n      index_y++;\n    } else if (index_x === 9) {\n      index_x = -1;\n      index_y++;\n    }\n    index_x++;\n\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW SYMBOLS LAYOUT\n\nDraw.symbolsLayout = ()=> {\n  var data = Layouts.symbols;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0, index_x = 0, prev_was_space = false;\n\n  for (var i in data) {\n\n    let key_id = 'symbols-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n    let x = Config.KEY_WIDTH*index_x;\n    let y = Config.KEY_WIDTH*index_y;\n\n    // Add margin on the key next to the spacebar key\n    if (prev_was_space) {\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055*2);\n    }\n\n    // Add margin to the spacebar key\n    if (data[i].type === 'spacebar') {\n      prev_was_space = true;\n      x = x+0.085;\n      y = Config.KEY_WIDTH*index_y -  0.01;\n    }\n\n    key.setAttribute('position', `${x} -${y} 0`);\n\n    if (index_x === 9) {\n      index_x = -1;\n      index_y++;\n    }\n    index_x++;\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ACTIONS LAYOUT\n\nDraw.actionsLayout = ()=> {\n  var data = Layouts.actions;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let val_y = 0;\n  for (var i in data) {\n    let key_id = 'action-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n\n    key.setAttribute('position', `0 -${val_y} 0`);\n    if (i == 0) {\n      val_y += Config.ACTION_WIDTH+0.01;\n    }\n    else if (i == 1) {\n      val_y += Config.KEY_WIDTH+0.01;\n    }\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW KEY\n\nDraw.key = (id, type, value)=> {\n  var that = this;\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('key-id', id);\n  el.setAttribute('width', Config.KEY_WIDTH);\n  el.setAttribute('height', Config.KEY_WIDTH);\n  el.setAttribute('radius', '0.008');\n  el.setAttribute('position', '0 0 0');\n  el.setAttribute('key-type', type);\n  el.setAttribute('key-value', value);\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  setTimeout(() => { el.setAttribute('material', {color: Config.KEYBOARD_COLOR, shader: 'flat'}); });\n\n  // ---------------------------------------------------------------------------\n  // EVENTS\n\n  Behaviors.addKeyEvents(el);\n\n  // ---------------------------------------------------------------------------\n  // SHADOW\n\n  // ---------------------------------------------------------------------------\n  // TEXT KEY\n\n  if (type === 'text' || type === 'spacebar' || type ===  'symbol') {\n    var letter_el = document.createElement('a-text');\n    letter_el.setAttribute('mixin', 'font');\n    letter_el.setAttribute('value', value);\n    letter_el.setAttribute('color', '#dbddde');\n    letter_el.setAttribute('position', Config.KEY_WIDTH/2+' '+ (Config.KEY_WIDTH/2 - 0.02) +' 0.015');\n    letter_el.setAttribute('scale', '0.16 0.16 0.16');\n    letter_el.setAttribute('align', 'center');\n    letter_el.setAttribute('baseline', 'center');\n    el.appendChild(letter_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // SPACEBAR KEY\n\n  if (type === 'spacebar') {\n    el.setAttribute('width', Config.SPACE_KEY_WIDTH);\n    el.setAttribute('height', Config.SPACE_KEY_HEIGHT);\n    setColor(el, letter_el);\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\n    letter_el.setAttribute('position', Config.SPACE_KEY_WIDTH/2 + .03 +' '+Config.SPACE_KEY_HEIGHT/2 +' 0');\n\n    function setColor (keyEl, letterEl) {\n      setTimeout(() => {\n        keyEl.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n        letterEl.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n      }, 500);\n    }\n  }\n\n  // ---------------------------------------------------------------------------\n  // SYMBOL KEY\n\n  else if (type === 'symbol') {\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\n  }\n\n  // ---------------------------------------------------------------------------\n  // ACTION KEY\n\n  if (type === 'backspace' || type === 'enter' || type === 'dismiss') {\n    el.setAttribute('width', Config.ACTION_WIDTH);\n  }\n\n  // ---------------------------------------------------------------------------\n  // SHIFT KEY\n\n  if (type === 'shift') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('data-type', 'icon');\n    icon_el.setAttribute('width', '0.032');\n    icon_el.setAttribute('height', '0.032');\n    icon_el.setAttribute('position', '0.04 0.04 0.01')\n    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\n    el.appendChild(icon_el);\n    Draw.el.shiftKey = el;\n  }\n\n  // ---------------------------------------------------------------------------\n  // GLOBAL\n\n  else if (type === 'global') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.032');\n    icon_el.setAttribute('height', '0.032');\n    icon_el.setAttribute('position', '0.04 0.04 0.01')\n    icon_el.setAttribute('src', Assets.aframeKeyboardGlobal);\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // BACKSPACE\n\n  else if (type === 'backspace') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.046');\n    icon_el.setAttribute('height', '0.046');\n    icon_el.setAttribute('position', '0.07 0.04 0.01')\n    icon_el.setAttribute('src', Assets.aframeKeyboardBackspace);\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // ENTER\n\n  else if (type === 'enter') {\n    el.setAttribute('height', Config.ACTION_WIDTH);\n\n    var circle_el = document.createElement('a-circle');\n    circle_el.setAttribute('color', '#4285f4');\n    circle_el.setAttribute('radius', 0.044);\n    circle_el.setAttribute('position', '0.07 0.07 0.01')\n    el.appendChild(circle_el);\n\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.034');\n    icon_el.setAttribute('height', '0.034');\n    icon_el.setAttribute('position', '0.07 0.07 0.011')\n    icon_el.setAttribute('src', Assets.aframeKeyboardEnter);\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // DISMISS\n\n  else if (type === 'dismiss') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.046');\n    icon_el.setAttribute('height', '0.046');\n    icon_el.setAttribute('position', '0.07 0.04 0.01')\n    icon_el.setAttribute('src', Assets.aframeKeyboardDismiss);\n    el.appendChild(icon_el);\n  }\n\n  return el;\n}\n\nmodule.exports = Draw;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/draw.js","module.exports = {\n  aframeKeyboardShift: `${AFRAME.ASSETS_PATH}/images/ShiftIcon.png`,\n  aframeKeyboardShiftActive: `${AFRAME.ASSETS_PATH}/images/ShiftActiveIcon.png`,\n  aframeKeyboardGlobal: `${AFRAME.ASSETS_PATH}/images/GlobalIcon.png`,\n  aframeKeyboardBackspace: `${AFRAME.ASSETS_PATH}/images/BackspaceIcon.png`,\n  aframeKeyboardEnter: `${AFRAME.ASSETS_PATH}/images/EnterIcon.png`,\n  aframeKeyboardDismiss: `${AFRAME.ASSETS_PATH}/images/DismissIcon.png`,\n  aframeKeyboardShadow: `${AFRAME.ASSETS_PATH}/images/KeyShadow.png`,\n  aframeKeyboardKeyIn: `${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`,\n  aframeKeyboardKeyDown: `${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/assets.js","const Layouts = {\n  numerical: [\n    { type: 'text', value: '1'},\n    { type: 'text', value: '2'},\n    { type: 'text', value: '3'},\n    { type: 'text', value: '4'},\n    { type: 'text', value: '5'},\n    { type: 'text', value: '6'},\n    { type: 'text', value: '7'},\n    { type: 'text', value: '8'},\n    { type: 'text', value: '9'},\n    { type: 'text', value: '.'},\n    { type: 'text', value: '0'},\n    { type: 'text', value: '-'}\n  ],\n\n  alphabetical: [\n    { type: 'text', value: 'q'},\n    { type: 'text', value: 'w'},\n    { type: 'text', value: 'e'},\n    { type: 'text', value: 'r'},\n    { type: 'text', value: 't'},\n    { type: 'text', value: 'y'},\n    { type: 'text', value: 'u'},\n    { type: 'text', value: 'i'},\n    { type: 'text', value: 'o'},\n    { type: 'text', value: 'p'},\n\n    { type: 'text', value: 'a'},\n    { type: 'text', value: 's'},\n    { type: 'text', value: 'd'},\n    { type: 'text', value: 'f'},\n    { type: 'text', value: 'g'},\n    { type: 'text', value: 'h'},\n    { type: 'text', value: 'j'},\n    { type: 'text', value: 'k'},\n    { type: 'text', value: 'l'},\n\n    { type: 'shift'},\n    { type: 'text', value: 'z'},\n    { type: 'text', value: 'x'},\n    { type: 'text', value: 'c'},\n    { type: 'text', value: 'v'},\n    { type: 'text', value: 'b'},\n    { type: 'text', value: 'n'},\n    { type: 'text', value: 'm'},\n    { type: 'text', value: '!'},\n    { type: 'text', value: '?'},\n\n    { type: 'spacebar', value: ''},\n  ],\n\n  symbols: [\n    { type: 'text', value: '@'},\n    { type: 'text', value: '#'},\n    { type: 'text', value: '$'},\n    { type: 'text', value: '%'},\n    { type: 'text', value: '&'},\n    { type: 'text', value: '*'},\n    { type: 'text', value: '-'},\n    { type: 'text', value: '+'},\n    { type: 'text', value: '('},\n    { type: 'text', value: ')'},\n\n    { type: 'text', value: '~'},\n    { type: 'text', value: '`'},\n    { type: 'text', value: '\"'},\n    { type: 'text', value: '\\''},\n    { type: 'text', value: ':'},\n    { type: 'text', value: ';'},\n    { type: 'text', value: '_'},\n    { type: 'text', value: '='},\n    { type: 'text', value: '\\\\'},\n    { type: 'text', value: '/'},\n\n    { type: 'text', value: '{'},\n    { type: 'text', value: '}'},\n    { type: 'text', value: '['},\n    { type: 'text', value: ']'},\n    { type: 'text', value: '<'},\n    { type: 'text', value: '>'},\n    { type: 'text', value: '^'},\n    { type: 'text', value: '|'},\n    { type: 'text', value: '!'},\n    { type: 'text', value: '?'},\n\n    { type: 'symbol', value: 'ABC'},\n    { type: 'text', value: '@'},\n    { type: 'spacebar', value: ''},\n    { type: 'text', value: ','},\n    { type: 'text', value: '.'}\n  ],\n\n  actions: [\n    { type: 'backspace', value: 'Del'},\n    { type: 'enter', value: 'OK'},\n    { type: 'dismiss', value: 'W'},\n  ]\n}\n\nmodule.exports = Layouts;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/layouts.js","const Config = {\n  KEYBOARD_COLOR: \"#263238\",\n  KEY_COLOR_HIGHLIGHT: \"#39464c\",\n  KEY_COLOR_ACTIVE: \"#404b50\",\n  SPACEBAR_COLOR_ACTIVE: \"#3c464b\",\n  SPACEBAR_COLOR_HIGHLIGHT: \"#445055\",\n  KEY_WIDTH: 0.08,\n  SPACE_KEY_WIDTH: 0.368,\n  SPACE_KEY_HEIGHT: 0.05,\n  ACTION_WIDTH: 0.140,\n}\n\nmodule.exports = Config;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/config.js","const Assets = require('./assets');\nconst Config = require('./config');\nconst Utils = require('../utils');\nconst Event = require('../core/event');\nconst SFX = require('./sfx');\nconst Behaviors = {};\n\nBehaviors.el = null;\n\n// -----------------------------------------------------------------------------\n// KEYBOARD METHODS\n\nBehaviors.showKeyboard = function(el) {\n};\n\nBehaviors.hideKeyboard = function(el) {\n  let position = el.getAttribute(\"position\");\n  if (position.x !== -10000) {\n    if (!el.o_position) {\n      el.o_position = new THREE.Vector3();\n    }\n    el.o_position.copy(position);\n  }\n  el.isOpen = false;\n  el.setAttribute(\"position\", \"-10000 -10000 -10000\");\n  el.setAttribute('fadeout', {duration: 1});\n}\n\nBehaviors.destroyKeyboard = function(el) {\n  let parent = el.parentNode;\n  if (!parent) { return; }\n  parent.removeChild(el);\n};\n\nBehaviors.openKeyboard = function(el) {\n  if (el.o_position) {\n    el.object3D.position.copy(el.o_position);\n  }\n  el.isOpen = true;\n  el._transitioning = true;\n  let parent = el.parentNode;\n  if (!parent) { el.sceneEl.appendChild(el); }\n\n  var items = el.querySelectorAll('[data-ui]');\n  for(var i = 0; i < items.length; i++) {\n    for(var j = 0; j < items[i].children.length; j++) {\n      items[i].children[j].setAttribute('hide', true);\n      items[i].children[j].removeAttribute('hide');\n    }\n    fadeIn(el, items[i]);\n  }\n};\n\nfunction fadeIn (el, item) {\n  function animationend() {\n    item.children[0].removeEventListener('animationend', animationend)\n    setTimeout(function() {\n      item.children[1].setAttribute('fadein', 'duration', 160);\n      Event.emit(Behaviors.el, 'didopen');\n      el._transitioning = false;\n    }, 10)\n  }\n  item.children[0].setAttribute('fadein', 'duration', 160);\n  item.children[0].addEventListener('animationend', animationend)\n}\n\nBehaviors.dismissKeyboard = function(el) {\n  el._transitioning = true;\n  for(let item of el.querySelectorAll('[data-ui]') ) {\n    for (let child of item.children) {\n      child.setAttribute('show', true);\n    }\n    el.isOpen = false;\n    function animationend() {\n      item.children[1].removeEventListener('animationend', animationend)\n      setTimeout(function() {\n        function animationend() {\n          item.children[0].removeEventListener('animationend', animationend);\n          Behaviors.hideKeyboard(el);\n          Event.emit(Behaviors.el, 'diddismiss');\n          el._transitioning = false;\n        }\n        item.children[0].setAttribute('fadeout', {duration: 160});\n        item.children[0].addEventListener('animationend', animationend);\n      }, 10)\n    }\n    item.children[1].setAttribute('fadeout', {duration: 160});\n    item.children[1].addEventListener('animationend', animationend)\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEY EVENTS\n\nBehaviors.addKeyEvents = (el)=>{\n  el.addEventListener('click', Behaviors.keyClick);\n  el.addEventListener('mousedown', Behaviors.keyDown);\n  el.addEventListener('mouseup', Behaviors.keyOut);\n  el.addEventListener('mouseenter', Behaviors.keyIn );\n  el.addEventListener('mouseleave', Behaviors.keyOut );\n  //triggerdown\n  // https://aframe.io/docs/0.6.0/components/hand-controls.html\n};\n\n// -----------------------------------------------------------------------------\n// KEYCLICK\n\nBehaviors.keyClick = function() {\n  SFX.keyDown(Behaviors.el);\n\n  let type = this.getAttribute('key-type');\n  let value = this.getAttribute('key-value');\n\n  if (type === 'text' || type === 'spacebar') {\n    if (type === 'spacebar') { value = ' '; }\n    if (Behaviors.isShiftEnabled) {\n      value = value.toUpperCase();\n      Behaviors.shiftToggle();\n    }\n    else if (Behaviors.isSymbols) {\n      Behaviors.symbolsToggle();\n    }\n    Event.emit(Behaviors.el, 'input', value);\n  }\n  else if (type === 'shift') {\n    Behaviors.shiftToggle();\n  }\n  else if (type === 'symbol') {\n    Behaviors.symbolsToggle();\n  }\n  else if (type === 'backspace') {\n    Event.emit(Behaviors.el, 'backspace');\n  }\n  else if (type === 'enter') {\n    Event.emit(Behaviors.el, 'input', '\\n');\n    Event.emit(Behaviors.el, 'enter', '\\n');\n  }\n  else if (type === 'dismiss') {\n    Event.emit(Behaviors.el, 'dismiss');\n  }\n}\n\n// -----------------------------------------------------------------------------\n// KEYDOWN\n\nBehaviors.keyDown = function() {\n  if (Behaviors.el._transitioning) { return; }\n  this.object3D.position.z = 0.003;\n  if (this.getAttribute('key-type') === 'spacebar') {\n    this.setAttribute('color', Config.SPACEBAR_COLOR_ACTIVE);\n  } else {\n    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEYIN\n\nBehaviors.keyIn = function() {\n  if (Behaviors.el._transitioning) { return; }\n  if (this.object3D.children[2] && this.object3D.children[2].material && !this.object3D.children[2].material.opacity) {\n    return\n  }\n  SFX.keyIn(Behaviors.el);\n  if (this.getAttribute('key-type') === 'spacebar') {\n    this.setAttribute('color', Config.SPACEBAR_COLOR_HIGHLIGHT);\n  } else {\n    this.setAttribute('color', Config.KEY_COLOR_HIGHLIGHT);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEYOUT\n\nBehaviors.keyOut = function() {\n  this.object3D.position.z = 0;\n  if (this.getAttribute('key-type') === 'spacebar') {\n    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n  } else {\n    this.setAttribute('color', Config.KEYBOARD_COLOR);\n  }\n}\n\n// -----------------------------------------------------------------------------\n// SHIFT\n\nBehaviors.isShiftEnabled = false;\nBehaviors.shiftToggle = function() {\n  Behaviors.isShiftEnabled = !Behaviors.isShiftEnabled;\n\n  var icon_el = Behaviors.el.shiftKey.querySelector('[data-type]');\n  if (Behaviors.isShiftEnabled) {\n    icon_el.setAttribute('src', Assets.aframeKeyboardShiftActive);\n  } else {\n    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\n  }\n\n  for ( let keyEl of document.querySelectorAll(\"[key-id]\") ) {\n    let key_id = keyEl.getAttribute('key-id'), key_type = keyEl.getAttribute('key-type');\n    if (key_id.startsWith('main-') && key_type === \"text\") {\n      let textEl = keyEl.querySelector('a-text');\n      if (textEl) {\n        let value = textEl.getAttribute('value').toLowerCase();\n        if (this.isShiftEnabled) { value = value.toUpperCase(); }\n        textEl.setAttribute('value', value);\n      }\n    }\n  }\n}\n\n// -----------------------------------------------------------------------------\n// SYMBOLS\n\nBehaviors.isSymbols = false;\nBehaviors.symbolsToggle = function() {\n  Behaviors.isSymbols = !Behaviors.isSymbols;\n  if (!Behaviors.isSymbols) {\n    let parent = Behaviors.el.symbolsLayout.parentNode;\n    parent.removeChild(Behaviors.el.symbolsLayout);\n    parent.appendChild(Behaviors.el.alphabeticalLayout);\n    setTimeout(function() {\n      Utils.updateOpacity(Behaviors.el.alphabeticalLayout, 1);\n    }, 0)\n  } else {\n    let parent = Behaviors.el.alphabeticalLayout.parentNode;\n    parent.removeChild(Behaviors.el.alphabeticalLayout);\n    parent.appendChild(Behaviors.el.symbolsLayout);\n  }\n}\n\n\n\nmodule.exports = Behaviors;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/behaviors.js","var Assets = require('./Assets');\n\nconst SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeKeyboardKeyInSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', Assets.aframeKeyboardKeyIn);\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeKeyboardKeyDownSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', Assets.aframeKeyboardKeyDown);\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  keyIn: function(parent) {\n    let el = parent.querySelector('[key=aframeKeyboardKeyInSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  keyDown: function(parent) {\n    let el = parent.querySelector('[key=aframeKeyboardKeyDownSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/sfx.js","module.exports = {\n  aframeKeyboardShift: `${AFRAME.ASSETS_PATH}/images/ShiftIcon.png`,\n  aframeKeyboardShiftActive: `${AFRAME.ASSETS_PATH}/images/ShiftActiveIcon.png`,\n  aframeKeyboardGlobal: `${AFRAME.ASSETS_PATH}/images/GlobalIcon.png`,\n  aframeKeyboardBackspace: `${AFRAME.ASSETS_PATH}/images/BackspaceIcon.png`,\n  aframeKeyboardEnter: `${AFRAME.ASSETS_PATH}/images/EnterIcon.png`,\n  aframeKeyboardDismiss: `${AFRAME.ASSETS_PATH}/images/DismissIcon.png`,\n  aframeKeyboardShadow: `${AFRAME.ASSETS_PATH}/images/KeyShadow.png`,\n  aframeKeyboardKeyIn: `${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`,\n  aframeKeyboardKeyDown: `${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/Assets.js","const Utils = require('../utils');\nconst Event = require('../core/event');\n\n/*\n@BUG: Space has not effect when no letter comes after.\n@TODO: <progress value=\"70\" max=\"100\">70 %</progress>\n*/\n\nAFRAME.registerComponent('input', {\n  schema: {\n    value: { type: \"string\", default: \"\" },\n    name: { type: \"string\", default: \"\" },\n    disabled: { type: \"boolean\", default: false },\n    color: { type: \"color\", default: \"#000\" },\n    align: { type: \"string\", default: \"left\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    side: { type: \"string\", default: 'front' },\n    tabSize: { type: \"int\", default: 4 },\n    placeholder: { type: \"string\", default: \"\" },\n    placeholderColor: { type: \"color\", default: \"#AAA\" },\n    maxLength: { type: \"int\", default: 0 },\n    type: { type: \"string\", default: \"text\" },\n    width: { type: \"number\", default: 1 },\n    cursorWidth: { type: \"number\", default: 0.01 },\n    cursorHeight: { type: \"number\", default: 0.08 },\n    cursorColor: { type: \"color\", default: \"#007AFF\" },\n    backgroundColor: { type: \"color\", default: \"#FFF\" },\n    backgroundOpacity: { type: \"number\", default: 1 },\n  },\n\n  init: function () {\n    let that = this;\n\n    this.background = document.createElement('a-rounded');\n    this.background.setAttribute('radius', 0.01)\n    this.background.setAttribute('height', 0.18)\n    this.background.setAttribute('side', 'double')\n    this.el.appendChild(this.background);\n\n    this.cursor = document.createElement('a-plane');\n    this.cursor.setAttribute('position', '0 0 0.003');\n    this.cursor.setAttribute('visible', false);\n    this.el.appendChild(this.cursor);\n\n    this.text = document.createElement('a-entity');\n    this.text.setAttribute('mixin', 'font');\n    this.el.appendChild(this.text);\n\n    this.placeholder = document.createElement('a-entity');\n    this.placeholder.setAttribute('mixin', 'font');\n    this.placeholder.setAttribute('visible', false);\n    this.el.appendChild(this.placeholder);\n\n    this.el.focus = this.focus.bind(this);\n    this.el.blur = this.blur.bind(this);\n    this.el.appendString = this.appendString.bind(this);\n    this.el.deleteLast = this.deleteLast.bind(this);\n\n    //setTimeout(function() { that.updateText(); }, 0);\n    this.blink();\n\n    this.el.addEventListener('click', function() {\n      if (this.components.input.data.disabled) { return; }\n      that.focus();\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  blink: function() {\n    let that = this;\n    if (!this.isFocused) {\n      that.cursor.setAttribute('visible', false);\n      clearInterval(this.cursorInterval);\n      this.cursorInterval = null;\n      return\n    }\n    this.cursorInterval = setInterval(function(){\n      that.cursor.setAttribute('visible', !that.cursor.getAttribute('visible'));\n    }, 500);\n  },\n  isFocused: false,\n  focus: function(noemit) {\n    if (this.isFocused) { return; }\n    this.isFocused = true;\n    this.cursor.setAttribute('visible', true);\n    this.blink();\n    Event.emit(this.el, 'focus');\n    if (!noemit) { Event.emit(document.body, 'didfocusinput', this.el); }\n  },\n  blur: function(noemit) {\n    if (!this.isFocused) { return; }\n    this.isFocused = false;\n    if (this.cursorInterval) {\n      clearInterval(this.cursorInterval);\n      this.cursorInterval = null;\n    }\n    this.cursor.setAttribute('visible', false);\n    Event.emit(this.el, 'blur');\n    if (!noemit) { Event.emit(document.body, 'didblurinput', this.el); }\n  },\n  appendString: function(data) {\n    if(data === '\\n') {\n      return this.blur();\n    }\n    let str = this.el.getAttribute(\"value\");\n    if (!str) { str = \"\" }\n    str = str+data;\n    this.el.setAttribute(\"value\", str)\n    Event.emit(this.el, 'change', str);\n  },\n  deleteLast: function() {\n    let str = this.el.getAttribute(\"value\");\n    if (!str) { str = \"\" }\n    str = str.slice(0, -1);\n    this.el.setAttribute(\"value\", str)\n    Event.emit(this.el, 'change', str);\n  },\n  updateText: function() {\n    let that = this;\n    let padding = {\n      left: 0.021,\n      right: 0.021\n    };\n\n    let props = {\n      color: this.data.color,\n      align: this.data.align,\n      side: this.data.side,\n      tabSize: this.data.tabSize,\n      wrapCount: 24*this.data.width,\n      width: this.data.width\n    }\n\n    // Make cursor stop blinking when typing..\n    // (and blinking again after typing stop).\n    let attr = this.text.getAttribute(\"text\");\n    if (attr) {\n      if (this.data.value !== attr.value) {\n        if (this.cursorInterval) {\n          clearInterval(this.cursorInterval);\n          this.cursorInterval = null;\n        }\n        if (this.cursorTimer) {\n          clearTimeout(this.cursorTimer);\n          this.cursorTimer = null;\n        }\n        this.cursor.setAttribute('visible', true);\n        this.cursorTimer = setTimeout(function(){\n          that.blink();\n        }, 50);\n      }\n    }\n\n    // Max length\n    if (this.data.maxLength) {\n      props.value = this.data.value.substring(0, this.data.maxLength);\n      this.el.setAttribute('value', props.value)\n    } else {\n      props.value = this.data.value;\n    }\n\n    if (this.data.type === \"password\") {\n      props.value = \"*\".repeat(this.data.value.length);\n    }\n\n    if (this.data.font.length) { props.font = this.data.font }\n    if (this.data.letterSpacing) { props.letterSpacing = this.data.letterSpacing; }\n    if (this.data.lineHeight.length) { props.lineHeight = this.data.lineHeight; }\n    this.text.setAttribute('visible', false);\n    this.text.setAttribute(\"text\", props);\n\n    function getTextWidth(el, data, trimFirst, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        if (trimFirst) {\n          data.value = data.value.substr(1);\n        } else {\n          data.value = data.value.slice(0, -1);\n        }\n        el.setAttribute(\"text\", data);\n        return getTextWidth(el, data, trimFirst);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, data.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\n        let textRatio = (v+padding.left+padding.right) / that.data.width;\n\n        if (textRatio > 1) {\n          if (trimFirst) {\n            data.value = data.value.substr(1);\n          } else {\n            data.value = data.value.slice(0, -1);\n          }\n          el.setAttribute(\"text\", data);\n          return getTextWidth(el, data, trimFirst, _widthFactor);\n        }\n      }\n      return v;\n    }\n\n\n    if (props.value.length) {\n      this.placeholder.setAttribute('visible', false);\n    } else {\n      this.placeholder.setAttribute('visible', true);\n    }\n\n    let placeholder_props = Utils.clone(props);\n    placeholder_props.value = this.data.placeholder;\n    placeholder_props.color = this.data.placeholderColor;\n    this.placeholder.setAttribute(\"text\", placeholder_props);\n\n    setTimeout(function() {\n      if (that.text.object3D) {\n        let children = that.text.object3D.children;\n        if (children[0] && children[0].geometry && children[0].geometry.visibleGlyphs) {\n          let v = 0;\n          if (children[0].geometry.visibleGlyphs.length) {\n            v = getTextWidth(that.text, props, true);\n            that.text.setAttribute('visible', true);\n          }\n          that.cursor.setAttribute('position', v+padding.left+' 0 0.003');\n        } else {\n          that.cursor.setAttribute('position', padding.left+' 0 0.003');\n        }\n      } else {  that.cursor.setAttribute('position', padding.left+' 0 0.003'); }\n      getTextWidth(that.placeholder, placeholder_props);\n    }, 0)\n\n    this.background.setAttribute('color', this.data.backgroundColor);\n    setTimeout(() => {\n      this.background.setAttribute('material', {shader: 'flat', color: this.data.backgroundColor});\n    });\n    /*if (this.data.backgroundOpacity) {\n      setTimeout(function() {\n        Utils.updateOpacity(that.background, that.data.backgroundOpacity);\n      }, 0);\n    }*/\n    this.background.setAttribute('width', this.data.width);\n    //this.background.setAttribute('position', this.data.width/2+' 0 0');\n    this.background.setAttribute('position', '0 -0.09 0.001');\n    this.text.setAttribute('position', padding.left-0.001+this.data.width/2 +' -0.055 0.002');\n    this.placeholder.setAttribute('position', padding.left-0.001+this.data.width/2 +' -0.055 0.002');\n  },\n  updateCursor: function() {\n    this.cursor.setAttribute('width', this.data.cursorWidth)\n    this.cursor.setAttribute('height', this.data.cursorHeight)\n    this.cursor.setAttribute('color', this.data.cursorColor);\n  },\n  update: function () {\n    let that = this;\n    setTimeout(function() {\n    //  Utils.updateOpacity(that.el, that.data.opacity);\n    }, 0)\n\n    this.updateCursor();\n    this.updateText();\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-input', {\n  defaultComponents: {\n    input: {}\n  },\n  mappings: {\n    value: 'input.value',\n    name: 'input.name',\n    disabled: 'input.disabled',\n    color: 'input.color',\n    align: 'input.align',\n    font: 'input.font',\n    'letter-spacing': 'input.letterSpacing',\n    'line-height': 'input.lineHeight',\n    'opacity': 'input.opacity',\n    'side': 'input.side',\n    'tab-size': 'input.tabSize',\n    placeholder: 'input.placeholder',\n    'placeholder-color': 'input.placeholderColor',\n    'max-length': 'input.maxLength',\n    type: 'input.type',\n    width: 'input.width',\n    'cursor-width': \"input.cursorWidth\",\n    'cursor-height': \"input.cursorHeight\",\n    'cursor-color': \"input.cursorColor\",\n    'background-color': 'input.backgroundColor',\n    'background-opacity': 'input.backgroundOpacity'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/input/index.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('switch', {\n  schema: {\n    name: { type: \"string\", default: \"\" },\n    enabled: { type: 'boolean', default: false },\n    disabled: { type: 'boolean', default: false },\n    fillColor: { type: \"color\", default: \"#bababa\" },\n    knobColor: { type: \"color\", default: \"#f5f5f5\" },\n    fillColorEnabled: { type: \"color\", default: \"#80a8ff\" },\n    knobColorEnabled: { type: \"color\", default: \"#4076fd\" },\n    fillColorDisabled: { type: \"color\", default: \"#939393\" },\n    knobColorDisabled: { type: \"color\", default: \"#a2a2a2\" }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    SFX.init(this.el);\n\n    // FILL\n    this.el.fill = document.createElement('a-rounded');\n    this.el.fill.setAttribute('width', 0.36)\n    this.el.fill.setAttribute('height', 0.16)\n    this.el.fill.setAttribute('radius', 0.08)\n    this.el.fill.setAttribute('side', 'double')\n    this.el.fill.setAttribute('position', '0 0 0.01')\n    this.el.appendChild(this.el.fill);\n\n    // KNOB\n    this.el.knob = document.createElement('a-circle');\n    this.el.knob.setAttribute('position', '0.06 0.08 0.02')\n    this.el.knob.setAttribute('radius', 0.12)\n    this.el.knob.setAttribute('side', 'double')\n    this.el.appendChild(this.el.knob);\n\n    // SHADOW\n    this.el.shadow_el = document.createElement('a-image');\n    this.el.shadow_el.setAttribute('width', 0.24*1.25);\n    this.el.shadow_el.setAttribute('height', 0.24*1.25);\n    this.el.shadow_el.setAttribute('position', '0 0 -0.001');\n    this.el.shadow_el.setAttribute('src', '#aframeSwitchShadow');\n    this.el.knob.appendChild(this.el.shadow_el);\n\n    this.el.addEventListener('click', function() {\n      if (this.components.switch.data.disabled) { return; }\n      this.setAttribute('enabled', !this.components.switch.data.enabled );\n      Event.emit(this, 'change', this.components.switch.data.enabled);\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.switch.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      SFX.click(this);\n    });\n\n    Object.defineProperty(this.el, 'enabled', {\n      get: function() { return this.getAttribute('enabled'); },\n      set: function(value) { this.setAttribute('enabled', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  on: function() {\n    this.el.fill.setAttribute('color', this.data.fillColorEnabled)\n    this.el.knob.setAttribute('position', '0.32 0.08 0.02');\n    this.el.knob.setAttribute('color', this.data.knobColorEnabled)\n  },\n  off: function() {\n    this.el.fill.setAttribute('color', this.data.fillColor)\n    this.el.knob.setAttribute('position', '0.06 0.08 0.02');\n    this.el.knob.setAttribute('color', this.data.knobColor)\n  },\n  disable: function() {\n    this.el.fill.setAttribute('color', this.data.fillColorDisabled)\n    this.el.knob.setAttribute('color', this.data.knobColorDisabled)\n  },\n  update: function () {\n    if (this.data.enabled) {\n      this.on();\n    } else {\n      this.off();\n    }\n    if (this.data.disabled) {\n      this.disable();\n    }\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-switch', {\n  defaultComponents: {\n    switch: {}\n  },\n  mappings: {\n    name: 'switch.name',\n    enabled: 'switch.enabled',\n    disabled: 'switch.disabled',\n    'fill-color': 'switch.fillColor',\n    'knob-color': 'switch.knobColor',\n    'fill-color-enabled': 'switch.fillColorEnabled',\n    'knob-color-enabled': 'switch.knobColorEnabled',\n    'fill-color-disabled': 'switch.fillColorDisabled',\n    'knob-color-disabled': 'switch.knobColorDisabled'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/index.js","module.exports = [\n  { type: 'img', id: 'aframeSwitchShadow', src: `${AFRAME.ASSETS_PATH}/images/SwitchShadow.png`},\n  { type: 'audio', id: 'aframeSwitchClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeSwitchClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeSwitchClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeSwitchClick');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeSwitchClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeSwitchClickDisabled');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function(parent) {\n    let el = parent.querySelector('[key=aframeSwitchClickSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(parent) {\n    let el = parent.querySelector('[key=aframeSwitchClickDisabledSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\n\nAFRAME.registerComponent('form', {\n  schema: {\n  },\n  init: function () {\n  },\n  update: function () {\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-form', {\n  defaultComponents: {\n    form: {}\n  },\n  mappings: {\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/index.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('radio', {\n  schema: {\n    checked: { type: 'boolean', default: false },\n    disabled: { type: 'boolean', default: false },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"\" },\n    label: { type: \"string\", default: \"\" },\n    radioColor: { type: \"color\", default: \"#757575\"},\n    radioColorChecked: { type: \"color\", default: \"#4076fd\"},\n    color: { type: \"color\", default: \"#757575\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    SFX.init(this.el);\n\n    // HITBOX\n    this.hitbox = document.createElement('a-plane');\n    this.hitbox.setAttribute('height', 0.2);\n    this.hitbox.setAttribute('opacity', 0);\n    this.hitbox.setAttribute('position', '0 0 0.001')\n    this.el.appendChild(this.hitbox);\n\n    // OUTLINE\n    this.outline = document.createElement('a-ring');\n    this.outline.setAttribute('radius-outer', 0.1)\n    this.outline.setAttribute('radius-inner', 0.078);\n    this.outline.setAttribute('position', '0.1 0 0.002');\n    this.el.appendChild(this.outline);\n\n    // CIRCLE\n    this.circle = document.createElement('a-circle');\n    this.circle.setAttribute('radius', 0.05)\n    this.circle.setAttribute('position', '0.1 0 0.002');\n    this.el.appendChild(this.circle);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.el.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener('click', function() {\n      if (this.components.radio.data.disabled) { return; }\n      this.setAttribute('checked', true);\n      that.onClick();\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.radio.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      SFX.click(this);\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function(noemit) {\n    if (this.data.name) {\n      let nearestForm = this.el.closest(\"a-form\");\n      if (nearestForm) {\n        let didCheck = false;\n        let children = Array.from(nearestForm.querySelectorAll(`[name=${this.data.name}]`));\n        children.reverse();\n        for (let child of children) {\n          // Radio + not disabled\n          if (child.components.radio ) {\n            // Currently checked\n            if (child === this.el && child.hasAttribute('checked')) {\n              didCheck = true;\n              child.components.radio.check();\n              if (!noemit) { Event.emit(child, 'change', true); }\n            } else {\n              if (!didCheck && !this.data.checked && child.hasAttribute('checked')) {\n                didCheck = true;\n                child.components.radio.check();\n              } else {\n                child.components.radio.uncheck();\n              }\n            }\n          }\n        }\n        if (!didCheck && this.el.hasAttribute('checked')) {\n          this.check();\n          if (!noemit) { Event.emit(this.el, 'change', true); }\n        }\n      }\n    }\n  },\n  check: function() {\n    this.outline.setAttribute('color', this.data.radioColorChecked);\n    this.circle.setAttribute('color', this.data.radioColorChecked);\n    this.circle.setAttribute('visible', true);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  uncheck: function() {\n    this.outline.setAttribute('color', this.data.radioColor);\n    this.circle.setAttribute('visible', false);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  disabled: function() {\n    this.outline.setAttribute('color', this.data.radioColor);\n    this.circle.setAttribute('color', this.data.radioColor);\n  },\n  update: function () {\n    var that = this;\n    this.onClick(true);\n\n    // HITBOX\n    this.hitbox.setAttribute('width', this.data.width)\n    this.hitbox.setAttribute('position', this.data.width/2+' 0 0.001');\n\n    let props = {\n      color: this.data.color,\n      align: 'left',\n      wrapCount: 10*(this.data.width+0.2),\n      width: this.data.width,\n    }\n    if (this.data.font) { props.font = this.data.font; }\n\n    // TITLE\n    props.value = this.data.label;\n    props.color = this.data.color;\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.002');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }\n    setTimeout(function() {\n      if (that.data.label.length) {\n        getTextWidth(that.label);\n      }\n      if (that.data.disabled) {\n        let timer = setInterval(function() {\n          if (that.outline.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.outline, 0.4);\n            Utils.updateOpacity(that.circle, 0.4);\n            Utils.updateOpacity(that.label, 0.4);\n          }\n        }, 10)\n      } else {\n        let timer = setInterval(function() {\n          if (that.outline.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.outline, 1);\n            Utils.updateOpacity(that.circle, 1);\n            Utils.updateOpacity(that.label, 1);\n          }\n        }, 10)\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-radio', {\n  defaultComponents: {\n    radio: {}\n  },\n  mappings: {\n    checked: 'radio.checked',\n    disabled: 'radio.disabled',\n    name: 'radio.name',\n    value: 'radio.value',\n    label: 'radio.label',\n    'radio-color': 'radio.radioColor',\n    'radio-color-checked': 'radio.radioColorChecked',\n    color: 'radio.color',\n    align: 'radio.align',\n    font: 'radio.font',\n    'letter-spacing': 'radio.letterSpacing',\n    'line-height': 'radio.lineHeight',\n    'opacity': 'radio.opacity',\n    width: 'radio.width'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/index.js","module.exports = [\n  { type: 'audio', id: 'aframeRadioClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeRadioClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeRadioClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeRadioClick');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeRadioClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeRadioClickDisabled');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function(parent) {\n    let el = parent.querySelector('[key=aframeRadioClickSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(parent) {\n    let el = parent.querySelector('[key=aframeRadioClickDisabledSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('checkbox', {\n  schema: {\n    checked: { type: 'boolean', default: false },\n    disabled: { type: 'boolean', default: false },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"\" },\n    label: { type: \"string\", default: \"\" },\n    checkboxColor: { type: \"color\", default: \"#757575\"},\n    checkboxColorChecked: { type: \"color\", default: \"#4076fd\"},\n    color: { type: \"color\", default: \"#757575\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    SFX.init(this.el);\n\n    // HITBOX\n    this.hitbox = document.createElement('a-plane');\n    this.hitbox.setAttribute('height', 0.2);\n    this.hitbox.setAttribute('opacity', 0);\n    this.el.appendChild(this.hitbox);\n\n    // OUTLINE\n    this.outline = document.createElement('a-rounded');\n    this.outline.setAttribute('width', 0.2);\n    this.outline.setAttribute('height', 0.2);\n    this.outline.setAttribute('radius', 0.02);\n    this.outline.setAttribute('position', `0 -${0.2/2} 0.01`);\n    this.el.appendChild(this.outline);\n\n    // INSIDE\n    this.inside = document.createElement('a-rounded');\n    this.inside.setAttribute('width', 0.156);\n    this.inside.setAttribute('height', 0.156);\n    this.inside.setAttribute('radius', 0.01);\n    this.inside.setAttribute('color', \"#EEE\");\n    this.inside.setAttribute('position', `${0.156/8} -${0.156/2} 0.02`);\n    this.el.appendChild(this.inside);\n\n    // CHECKMARK\n    this.checkmark = document.createElement('a-image');\n    this.checkmark.setAttribute('width', 0.16);\n    this.checkmark.setAttribute('height', 0.16);\n    this.checkmark.setAttribute('src', \"#aframeCheckboxMark\");\n    this.checkmark.setAttribute('position', '0.1 0 0.03');\n    this.el.appendChild(this.checkmark);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.el.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener('click', function() {\n      if (this.components.checkbox.data.disabled) { return; }\n      this.components.checkbox.data.checked = !this.components.checkbox.data.checked;\n      this.setAttribute('checked', this.components.checkbox.data.checked);\n      that.onClick();\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.checkbox.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      SFX.click(this);\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function(noemit) {\n    if (this.data.checked) {\n      this.check();\n    } else {\n      this.uncheck();\n    }\n    if (!noemit) { Event.emit(this.el, 'change', this.data.checked); }\n  },\n  check: function() {\n    this.outline.setAttribute('color', this.data.checkboxColorChecked);\n    this.inside.setAttribute('color', this.data.checkboxColorChecked);\n    this.checkmark.setAttribute('visible', true);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  uncheck: function() {\n    this.outline.setAttribute('color', this.data.checkboxColor);\n    this.inside.setAttribute('color', \"#EEE\");\n    this.checkmark.setAttribute('visible', false);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  disabled: function() {\n    this.outline.setAttribute('color', this.data.checkboxColor);\n    this.inside.setAttribute('color', this.data.checkboxColor);\n  },\n  update: function () {\n    var that = this;\n    this.onClick(true);\n\n    // HITBOX\n    this.hitbox.setAttribute('width', this.data.width)\n    this.hitbox.setAttribute('position', this.data.width/2+' 0 0.01');\n\n    let props = {\n      color: this.data.color,\n      align: 'left',\n      wrapCount: 10*(this.data.width+0.2),\n      width: this.data.width,\n    }\n    if (this.data.font) { props.font = this.data.font; }\n\n    // TITLE\n    props.value = this.data.label;\n    props.color = this.data.color;\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.01');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }\n    setTimeout(function() {\n      if (that.data.label.length) {\n        getTextWidth(that.label);\n      }\n      if (that.data.disabled) {\n        let timer = setInterval(function() {\n          if (that.checkmark.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.checkmark, 0.4);\n            Utils.updateOpacity(that.label, 0.4);\n          }\n        }, 10)\n      } else {\n        let timer = setInterval(function() {\n          if (that.checkmark.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.checkmark, 1);\n            Utils.updateOpacity(that.label, 1);\n          }\n        }, 10)\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-checkbox', {\n  defaultComponents: {\n    checkbox: {}\n  },\n  mappings: {\n    checked: 'checkbox.checked',\n    disabled: 'checkbox.disabled',\n    name: 'checkbox.name',\n    value: 'checkbox.value',\n    label: 'checkbox.label',\n    'checkbox-color': 'checkbox.checkboxColor',\n    'checkbox-color-checked': 'checkbox.checkboxColorChecked',\n    color: 'checkbox.color',\n    align: 'checkbox.align',\n    font: 'checkbox.font',\n    'letter-spacing': 'checkbox.letterSpacing',\n    'line-height': 'checkbox.lineHeight',\n    'opacity': 'checkbox.opacity',\n    width: 'checkbox.width'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/index.js","module.exports = [\n  { type: 'img', id: 'aframeCheckboxMark', src: `${AFRAME.ASSETS_PATH}/images/CheckmarkIcon.png`},\n  { type: 'audio', id: 'aframeCheckboxClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeCheckboxClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeCheckboxClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeCheckboxClick');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClickDisabled');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function(parent) {\n    let el = parent.querySelector('[key=aframeCheckboxClickSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(parent) {\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('button', {\n  schema: {\n    disabled: { type: 'boolean', default: false },\n    type: { type: \"string\", default: \"raised\" },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"Button\" },\n    buttonColor: { type: \"color\", default: \"#4076fd\"},\n    color: { type: \"color\", default: \"#FFF\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    SFX.init(this.el);\n\n    this.wrapper = document.createElement('a-entity');\n    this.wrapper.setAttribute('position', '0 0 0.01')\n    this.el.appendChild(this.wrapper);\n\n    this.shadow = document.createElement('a-image');\n    this.shadow.setAttribute('height', 0.36*1.25);\n    this.shadow.setAttribute('src', '#aframeButtonShadow');\n    this.wrapper.appendChild(this.shadow);\n\n    // OUTLINE\n    this.outline = document.createElement('a-rounded');\n    this.outline.setAttribute('height', 0.36);\n    this.outline.setAttribute('radius', 0.03);\n    this.outline.setAttribute('position', `0 -${0.36/2} 0.01`);\n    this.wrapper.appendChild(this.outline);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.outline.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener('click', function() {\n      if (this.components.button && this.components.button.data.disabled) { return; }\n      that.onClick();\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.button && this.components.button.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      that.wrapper.setAttribute('position', `0 0 0.036`);\n      SFX.click(this);\n    });\n    this.el.addEventListener('mouseup', function() {\n      if (this.components.button && this.components.button.data.disabled) { return; }\n      that.wrapper.setAttribute('position', `0 0 0`);\n    });\n\n    this.el.getWidth = this.getWidth.bind(this);\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function() {\n    //Event.emit(this.el, 'click');\n  },\n  getWidth: function() {\n    return this.__width;\n  },\n  update: function () {\n    var that = this;\n    this.outline.setAttribute('color', this.data.buttonColor);\n\n    let props = {\n      color: this.data.color,\n      align: 'center',\n      wrapCount: 10*this.data.width,\n      width: this.data.width,\n    }\n    if (this.data.font) { props.font = this.data.font; }\n\n    if (this.data.type === \"flat\") {\n      props.color = this.data.buttonColor;\n    }\n\n    // TITLE\n    props.value = this.data.value.toUpperCase();\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.01');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, callback, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n        return setTimeout(function() {\n          getTextWidth(el, callback);\n        }, 10);\n       }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) {\n        return setTimeout(function() {\n          getTextWidth(el, callback);\n        }, 10);\n      }\n      v = v[v.length-1];\n      if (!v) { return callback(0); }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el, callback);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width ) / (_widthFactor/that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, callback, _widthFactor);\n        }\n      }\n      return callback(v);\n    }\n    setTimeout(function() {\n      if (that.data.value.length) {\n        getTextWidth(that.label, (width)=>{\n          that.label.setAttribute('position', `${width/2+0.28/2} ${0.36/2} 0.02`);//\n          width = width+0.28;\n          that.outline.setAttribute('width', width);\n          that.__width = width;\n          that.shadow.setAttribute('width', width*1.17);\n          that.shadow.setAttribute('position', width/2+' 0 0');\n          Event.emit(that.el, 'change:width', width)\n        });\n      }\n\n      if (that.data.disabled) {\n        that.shadow.setAttribute('visible', false);\n        let timer = setInterval(function() {\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 0.4);\n          }\n        }, 10)\n      } else {\n        let timer = setInterval(function() {\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 1);\n          }\n        }, 10)\n      }\n\n      if (that.data.type === \"flat\") {\n        that.shadow.setAttribute('visible', false);\n        let timer = setInterval(function() {\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.outline, 0);\n            if (that.data.disabled) {\n              Utils.updateOpacity(that.label, 0.4);\n            }\n          }\n        }, 10)\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-button', {\n  defaultComponents: {\n    button: {}\n  },\n  mappings: {\n    disabled: 'button.disabled',\n    type: 'button.type',\n    name: 'button.name',\n    value: 'button.value',\n    'button-color': 'button.buttonColor',\n    color: 'button.color',\n    font: 'button.font',\n    'letter-spacing': 'button.letterSpacing',\n    'line-height': 'button.lineHeight',\n    'opacity': 'button.opacity',\n    'width': 'button.width'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/index.js","module.exports = [\n  { type: 'img', id: 'aframeButtonShadow', src: `${AFRAME.ASSETS_PATH}/images/ButtonShadow.png`},\n  { type: 'audio', id: 'aframeButtonClick', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClick.mp3`},\n  { type: 'audio', id: 'aframeButtonClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClick');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n\n    el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClickDisabled');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  click: function(parent) {\n    let el = parent.querySelector('[key=aframeButtonClickSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(parent) {\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('toast', {\n  schema: {\n    message: { type: 'string', default: \"You are cool\" },\n    action: { type: 'string', default: \"\" },\n    backgroundColor: { type: \"color\", default: \"#222\" },//242f35\n    actionColor: { type: \"color\", default: \"#4076fd\"},\n    color: { type: \"color\", default: \"#FFF\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    width: { type: \"number\", default: 3 },\n    duration: { type: 'number', default: 2000 },\n    autoshow: { type: 'boolean', default: true }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    SFX.init(this.el);\n\n    // CONFIG\n    this.el.setAttribute(\"position\", `10000 10000 10000`);\n    this.el.setAttribute(\"rotation\", \"-25 0 0\");\n    this.el.setAttribute(\"scale\", \"0.3 0.3 0.3\");\n\n    // OUTLINE\n    this.background = document.createElement('a-rounded');\n    this.background.setAttribute('height', 0.44);\n    this.background.setAttribute('radius', 0.03);\n    this.background.setAttribute('position', `0 -${0.36/2} 0.001`);\n    this.el.appendChild(this.background);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.el.appendChild(this.label);\n\n    // LABEL\n    this.action = document.createElement('a-button');\n    that.action.setAttribute('button-color', '#222')\n    this.el.appendChild(this.action);\n\n    function changeWidth(e){\n      let attr = that.label.getAttribute('text');\n      attr.width = that.data.width-e.detail;\n      attr.wrapCount = 10*attr.width;\n      that.label.setAttribute('text', attr);\n      that.label.setAttribute('position', attr.width/2+0.14+' 0.04 0.001');\n\n      this.setAttribute('position', `${that.data.width-e.detail} ${(0.44-0.36)/2} 0.001`)\n    }\n    this.action.addEventListener('change:width', changeWidth);\n    this.action.addEventListener('click', function() {\n      Event.emit(that.el, 'actionclick');\n    });\n\n    let timer = setInterval(function() {\n      if (that.action.object3D && that.action.object3D.children[0]) {\n        clearInterval(timer);\n        Utils.updateOpacity(that.el, 0);\n        Utils.updateOpacity(that.label, 0);\n        Utils.updateOpacity(that.action, 0);\n        if (that.data.autoshow) { that.show(); }\n      }\n    }, 10);\n\n    // METHDOS\n    this.el.show = this.show.bind(this);\n    this.el.hide = this.hide.bind(this);\n  },\n  show: function() {\n    if (this.hideTimer) {\n      clearTimeout(this.hideTimer);\n    }\n    this.el.setAttribute(\"position\", `${-this.data.width/(2/this.el.object3D.scale.x)} 0.25 -1.6`);\n    let that = this;\n    /*if (!this.el.parentNode && this.el._parentNode) {\n      this.el._parentNode.appendChild(this.el);\n    }*/\n    setTimeout(function() {\n      that.el.setAttribute('fadein', {duration: 160});\n      setTimeout(function() {\n        Utils.updateOpacity(that.label, 1);\n        that.action.components.button.shadow.setAttribute('visible', false);\n      }, 10)\n    }, 0)\n    this.hideTimer = setTimeout(function() {\n      that.hide();\n    }, this.data.duration);\n\n    SFX.show(this.el);\n  },\n  hide: function() {\n    let that = this;\n    setTimeout(function() {\n      Utils.updateOpacity(that.label, 0);\n      that.action.components.button.shadow.setAttribute('visible', false);\n      setTimeout(function() {\n        that.el.setAttribute('fadeout', {duration: 160});\n        setTimeout(function() {\n          /*if (that.el.parentNode) {\n            that.el._parentNode = that.el.parentNode;\n            that.el.parentNode.removeChild(that.el);\n          }*/\n          that.el.setAttribute(\"position\", `10000 10000 10000`);\n        }, 200);\n      }, 10)\n    }, 0);\n  },\n  update: function () {\n    var that = this;\n\n    // BACKGROUND\n    this.background.setAttribute('color', this.data.backgroundColor);\n    this.background.setAttribute('width', this.data.width);\n\n    let props = {\n      color: this.data.color,\n      align: 'left',\n      wrapCount: 10*this.data.width,\n      width: this.data.width,\n      lineHeight: 64\n    }\n    if (this.data.font) { props.font = this.data.font; }\n\n    if (this.data.type === \"flat\") {\n      props.color = this.data.buttonColor;\n    }\n\n    // MESSAGE\n    props.value = this.data.message\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width/2+0.14+' 0 0.001');\n\n    // ACTION\n    this.action.setAttribute('value', this.data.action.toUpperCase());\n    this.action.setAttribute('color', this.data.actionColor);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-toast', {\n  defaultComponents: {\n    toast: {}\n  },\n  mappings: {\n    message: 'toast.message',\n    action: 'toast.action',\n    'action-color': 'toast.actionColor',\n    'background-color': 'toast.backgroundColor',\n    color: 'toast.color',\n    font: 'toast.font',\n    'letter-spacing': 'toast.letterSpacing',\n    'line-height': 'toast.lineHeight',\n    'width': 'toast.width',\n    'duration': 'toast.duration',\n    'autoshow': 'toast.autoshow'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/index.js","module.exports = [\n  { type: 'audio', id: 'aframeToastShow', src: `${AFRAME.ASSETS_PATH}/sounds/ToastShow.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/assets.js","const SFX = {\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('key', 'aframeToastShowSound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeToastShow');\n    el.setAttribute('position', '0 2 5');\n    parent.appendChild(el);\n  },\n\n  show: function(parent) {\n    let el = parent.querySelector('[key=aframeToastShowSound]');\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/sfx.js"],"sourceRoot":""}